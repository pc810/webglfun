(this.webpackJsonpwebglfun=this.webpackJsonpwebglfun||[]).push([[14],{336:function(e,n,t){"use strict";t.r(n);var a=t(31),r=t(1),o=t(0),i=t(30),c=t(33),l=t(101),s=t(54),v=(t(39),t(43));function u(e){var n=e.color,t=e.cartoon,a=Object(c.g)(l.a,"images/GradientFire/fire.png"),o=Object(c.g)(l.a,"images/GradientFire/rainbowcloud.jpg");a.wrapS=i.RepeatWrapping,a.wrapT=i.RepeatWrapping,o.wrapS=i.RepeatWrapping,o.wrapT=i.RepeatWrapping;var s=new i.ShaderMaterial({extensions:{derivatives:"#extension GL_OES_standard_derivatives : enable"},side:i.DoubleSide,transparent:!0,vertexShader:"\nuniform float time;\nuniform float cartoon;\nvarying vec2 vUv;\nvarying vec2 vUv_a;\nvarying vec3 vPosition;\nfloat PI = 3.141592653589793238;\nvoid main(){\n  vUv = uv;\n  vUv_a = uv;\n  vUv_a.y -= fract(time*0.08);\n  vUv_a.x -= fract(time*.02);  \n  vec3 pos = position;  \n \tgl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n}\n",fragmentShader:"\nuniform float time;\nuniform float cartoon;\nuniform float redChannel;\nuniform float greenChannel;\nuniform float blueChannel;\nuniform sampler2D noiseTexture;\nuniform sampler2D distortTexture;\nuniform vec4 resolution;\nvarying vec2 vUv;\nvarying vec2 vUv_a;\nvarying vec3 vPosition;\nfloat PI = 3.141592653589793238;\n\nvoid main(){        \n    vec2  v_uv = vUv;           \n    vec2 v_uv_a = vUv_a;    \n    float gradientY = mix(2.,0., vUv.y + 0.5);\n    vec4 dist = texture2D(distortTexture,v_uv) * 0.5;\n    //vec4 noiseXT = texture2D(noiseTexture,v_uv.xy);\n    //vec4 noiseT = texture2D(noiseTexture,v_uv_a.xy + noiseXT.rb);\n    vec4 noiseT = texture2D(noiseTexture,v_uv_a.xy + dist.rg);    \n    vec4 grad = vec4(vec3(gradientY),1.);    \n    vec4 flamecolor =  vec4(1.,1.,1.,1.);\n    vec3 color = vec3(redChannel,greenChannel,blueChannel);\n    vec4 flame = flamecolor*((noiseT + grad));    \n    //orignal\n    gl_FragColor = flame*vec4(color,1.); \n    if(cartoon<0.0)\n        return;    \n    float c1 = step(0.35,flame.r);\n    float c2 = step(0.5,flame.g);\n    //gl_FragColor = vec4(vec3(c1),1.);\n    //gl_FragColor = vec4(vec3(c2),1.);\n    float mask_btw = c1 - c2;\n    float mask_bottom = c2;    \n    vec3 outputChannel = 1. - color;\n    outputChannel *= mask_btw;\n    outputChannel += mask_bottom*(color);\n    gl_FragColor = vec4(outputChannel,1.);\n}\n",uniforms:{time:{value:0},redChannel:{value:n.r},greenChannel:{value:n.g},blueChannel:{value:n.b},cartoon:{value:t?1:-1},resolution:{type:"v4",value:new i.Vector4},noiseTexture:{type:"t",value:a},distortTexture:{type:"t",value:o}}}),v=new i.Clock;return Object(c.f)((function(){var e=v.getElapsedTime();s.uniforms.time.value=e})),Object(r.jsx)("mesh",{material:s,children:Object(r.jsx)("planeBufferGeometry",{args:[2.5,2.5,2.5]})})}n.default=function(e){var n=e.inspiration,t=Object(o.useState)({color:"#f06b0b",cartoon:!1}),i=Object(a.a)(t,2),l=i[0],b=i[1],f=Object(o.useState)(!1),p=Object(a.a)(f,2),g=p[0],m=p[1],d=Object(o.useState)({r:1,g:1,b:1}),j=Object(a.a)(d,2),x=j[0],h=j[1];return Object(o.useEffect)((function(){document.title="GradientFire";var e="#f06b0b",n=parseInt(e.substr(1,2),16)/255,t=parseInt(e.substr(3,2),16)/255,a=parseInt(e.substr(5,2),16)/255;return h({r:n,g:t,b:a}),function(){document.title="WebGlfun"}}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(c.a,{gl:{antialias:!1,alpha:!1},camera:{position:[0,0,-2],near:.001,far:1e3},onCreated:function(e){return e.gl.setClearColor("black")},children:[Object(r.jsx)("ambientLight",{}),Object(r.jsx)("pointLight",{position:[150,150,150],intensity:.55}),Object(r.jsx)(o.Suspense,{fallback:Object(r.jsx)("group",{}),children:Object(r.jsx)(u,{color:x,cartoon:g})}),Object(r.jsx)(v.a,{})]}),Object(r.jsx)("div",{className:"gui",children:Object(r.jsxs)(s.f,{data:l,onUpdate:function(e){b({color:e.color,cartoon:e.cartoon});var n=parseInt(e.color.substr(1,2),16)/255,t=parseInt(e.color.substr(3,2),16)/255,a=parseInt(e.color.substr(5,2),16)/255;h({r:n,g:t,b:a}),m(e.cartoon)},children:[Object(r.jsx)(s.b,{path:"color",label:"color "}),Object(r.jsx)(s.a,{path:"cartoon",label:"cartoon"})]})}),n&&Object(r.jsxs)("div",{className:"inspiration",style:{color:"white"},children:["Inspired from ",Object(r.jsx)("a",{href:n,children:"post"})]})]})}}}]);
//# sourceMappingURL=14.0fb236c6.chunk.js.map