(this.webpackJsonpwebglfun=this.webpackJsonpwebglfun||[]).push([[8],{340:function(e,t,n){"use strict";n.r(t);var r=n(45),i=n(32),o=n(1),a=n(0),c=n(30),s=n(31),u=n(104),l=(n(39),n(38));function v(){var e=Object(s.g)(u.a,"images/AnimeWater/stones.jpg"),t=Object(s.g)(u.a,"images/GradientFire/rainbowcloud.jpg"),n=Object(s.g)(u.a,"images/ImageParticle/particleshape.png"),r=256,l=Object(a.useMemo)((function(){for(var e=[],t=[],n=-128;n<128;n++)for(var i=-128;i<128;i++)e.push(n),e.push(i),e.push(0),t.push((128-n)/r),t.push((i+128)/r),t.push(0);return[new Float32Array(e),new Float32Array(t)]}),[r]),v=Object(i.a)(l,2),f=v[0],p=v[1],b=new c.ShaderMaterial({extensions:{derivatives:"#extension GL_OES_standard_derivatives : enable"},side:c.DoubleSide,transparent:!0,vertexShader:"\nuniform float time;\nuniform sampler2D stoneTexture;\nuniform sampler2D particleTexture;\nattribute vec3 aCoordinates;\nvarying vec2 vUv;\nvarying vec3 vPosition;\nvarying float funct;\nvarying vec2 vCoordinate;\nfloat PI = 3.141592653589793238;\nfloat rand(vec2 co){\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\nvoid main(){\n  vUv = uv;  \n  vCoordinate = aCoordinates.xy;\n  vec2 tcoord = aCoordinates.xy;\n  tcoord -= vec2(0.5);\n  vec3 pos = position;  \n  float rnd = rand(vec2(pos.x,pos.y));  \n  //float r = 10.*rand(aCoordinates.xy);\n  //pos.z = position.z + r*sin(time);\n  float r =100.*length(tcoord); \n  funct = tan(r*.01 + time) + sin(r*0.001 + time);\n  pos.z = 10.*funct;\n  vec4 mvposition =  modelViewMatrix * vec4(pos, 1.0);\n  gl_PointSize = 1000. * (1. / -mvposition.z);\n  gl_Position = projectionMatrix * mvposition;  \n}\n",fragmentShader:"\nuniform float time;\nuniform sampler2D stoneTexture;\nuniform sampler2D imgTexture;\nuniform sampler2D particleTexture;\nuniform vec4 resolution;\nvarying vec2 vUv;\nvarying vec3 vPosition;\nvarying vec2 vCoordinate;\nvarying float funct;\nfloat PI = 3.141592653589793238;\n\nvoid main(){    \n    vec2 v_uv = vUv;    \n    vec2 v_uv_img = vCoordinate;\n    vec4 stone = texture2D(stoneTexture,v_uv_img);       \n    vec4 img2 = texture2D(imgTexture,v_uv_img);       \n    vec4 particle = texture2D(particleTexture,gl_PointCoord);\n    //float r =100.*length(tcoord); \n    //float f = tan(r*.01 + time) + sin(r*0.001 + time);\n    particle.r = smoothstep(0.1,0.4,particle.r);\n    gl_FragColor = stone;    \n    gl_FragColor.a *= particle.r; \n}\n",uniforms:{time:{value:0},stoneTexture:{type:"v4",value:e},imgTexture:{type:"v4",value:t},particleTexture:{type:"v4",value:n},resolution:{type:"v4",value:new c.Vector4}},depthTest:!1,depthWrite:!1}),m=new c.Clock;return Object(s.f)((function(){var e=m.getElapsedTime();b.uniforms.time.value=e})),Object(o.jsx)("points",{material:b,children:Object(o.jsxs)("bufferGeometry",{attach:"geometry",children:[Object(o.jsx)("bufferAttribute",{attachObject:["attributes","position"],count:f.length/3,array:f,itemSize:3}),Object(o.jsx)("bufferAttribute",{attachObject:["attributes","aCoordinates"],count:f.length/3,array:p,itemSize:3})]})})}function f(e){var t=Object(a.useRef)(),n=Object(s.h)().setDefaultCamera;return Object(a.useEffect)((function(){n(t.current)}),[n]),Object(s.f)((function(){return t.current.updateMatrixWorld()})),Object(o.jsx)("perspectiveCamera",Object(r.a)({ref:t},e))}t.default=function(e){return e.inspiration,Object(a.useEffect)((function(){return document.title="Image Particles",function(){document.title="WebGlfun"}}),[]),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(s.a,{gl:{antialias:!1,alpha:!1},onCreated:function(e){return e.gl.setClearColor("black")},children:[Object(o.jsx)(f,{position:[0,0,-300],near:.001,far:1e4}),Object(o.jsx)("ambientLight",{}),Object(o.jsx)("pointLight",{position:[150,150,150],intensity:.55}),Object(o.jsx)(a.Suspense,{fallback:Object(o.jsx)("group",{}),children:Object(o.jsx)(v,{})}),Object(o.jsx)(l.a,{})]})})}},39:function(e,t,n){},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(44);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}}]);
//# sourceMappingURL=8.975dd8e9.chunk.js.map